# name: test/sql/storage/compression/rle_sorted/rle_sorted_wal_deletes.test
# description: Test deletes correctly with statement directly after
# group: [rle_sorted]

# load the DB from disk
load __TEST_DIR__/test_store_deletes.db

statement ok
PRAGMA wal_autocheckpoint='1TB';

#statement ok
#BEGIN TRANSACTION;

statement ok
CREATE TABLE test (a INTEGER);

statement ok
INSERT INTO test VALUES (11), (13), (12)

statement ok
DELETE FROM test WHERE a=12

#statement ok
#COMMIT;

query I
SELECT a FROM test ORDER BY a
----
11
13

restart

query I
SELECT a FROM test ORDER BY a
----
11
13
